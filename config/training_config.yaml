# Training Configuration for Human Activity Detection
# YOLO Model Training Parameters

# Model settings
model:
  name: "models/yolo11n.pt" # Options: yolo11n.pt, yolo11s.pt, yolo11m.pt, yolo11l.pt, yolo11x.pt
  pretrained: true

# Data settings
data:
  yaml_path: "config/data.yaml"
  train_split: 0.8
  val_split: 0.15
  test_split: 0.05

# Training hyperparameters
training:
  epochs: 100 # Minimum viable epochs for decent results (200+ recommended for production)
  batch_size: 8 # Adjust based on GPU memory (MX450 has 2GB, so 8 is reasonable)
  imgsz: 640
  device: "0" # GPU device ID, use "cpu" for CPU training
  workers: 1 # Set to 0-1 on Windows to avoid multiprocessing memory issues (1 worker worked fine)
  cache: false # MUST be false to avoid paging file errors (not enough RAM available)
  lr0: 0.001 # Initial learning rate (reduced from default 0.01 to prevent NaN losses)
  lrf: 0.01 # Final learning rate factor
  class_weights: true # Enable class weighting to balance rare classes

# Augmentation settings
augmentation:
  enabled: true
  mixup: 0.15 # Increased for rare classes
  flipud: 0.15 # Vertical flip probability (increased)
  fliplr: 0.5 # Horizontal flip probability
  mosaic: 1.0 # Mosaic augmentation probability
  copy_paste: 0.3 # Copy-paste augmentation for rare classes (increased from 0.0)
  hsv_h: 0.015 # Hue augmentation (increased)
  hsv_s: 0.7 # Saturation augmentation (increased)
  hsv_v: 0.4 # Value/brightness augmentation (increased)
  degrees: 10.0 # Rotation degrees (increased)
  translate: 0.2 # Translation (increased)
  scale: 0.9 # Scale augmentation (increased)
  shear: 5.0 # Shear augmentation (increased)
  perspective: 0.0001 # Perspective augmentation
  erasing: 0.4 # Random erasing probability (increased for rare classes)

# Optimization settings
optimization:
  amp: false # Automatic Mixed Precision (FP16) - DISABLED to prevent NaN losses
  multi_scale: true # Multi-scale training
  rect: true # Rectangular training
  resume: false # Resume from checkpoint

# Validation settings
validation:
  conf: 0.01 # Confidence threshold
  iou: 0.5 # IoU threshold for NMS
  save_json: true
  plots: true

# Output settings
output:
  project: "outputs/runs"
  name: "human_activity_detection"
  exist_ok: true
  save_period: 10 # Save checkpoint every N epochs (with 50 epochs, saves at 10, 20, 30, 40, 50)

# Logging
logging:
  tensorboard: true
  verbose: true
